Array.prototype.find||(Array.prototype.find=function(r){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof r)throw new TypeError("predicate must be a function");for(var e,t=Object(this),i=t.length>>>0,o=arguments[1],c=0;c<i;c++)if(e=t[c],r.call(o,e,c,t))return e}),function(r){"use strict";var e,t,i,o,c;t={},i=[],o=!1,c=/(.*\/)?([^\/]+?)\.(mp3|ogg|opus|mpeg|wav|m4a|mp4|aiff|wma|mid)$/,createjs.Sound.registerPlugins([createjs.HTMLAudioPlugin]),e=function(r,e,c){var p,h;return p={id:"",label:"",success:[],error:[],fileLength:0,complete:null},h="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){var e=16*Math.random()|0,t="x"==r?e:3&e|8;return t.toString(16)}),p.id=h,t[h]=p,new Promise(function(x,g){var y,b,m,v,j;Array.isArray(r)?(j=[],v=f(e)?"":e,p.label=f(c)?"":c,r.forEach(function(r,e){a(r.src)?""!==(b=s(r.src))?((m={src:r.src}).id=f(r.id)?b:r.id,m.data=u(r.data)||l(r.data)?r.data:100,y={src:m.src,id:m.id,order:e,groupId:h},i.push(y),j.push(m)):p.error.push({id:b,src:r.src,error:"invalid file"}):((m={id:r.id,src:{}}).data=u(r.data)||l(r.data)?r.data:100,Object.keys(r.src).forEach(function(e){""!==(b=s(r.src[e]))?m.src[e]=r.src[e]:p.error.push({id:b,src:r.src[e],error:"invalid alternate file"})}),y={src:m.src,id:m.id,order:e,groupId:h},i.push(y),j.push(m))})):a(r)?(v="",""!==(b=s(r))?((m={src:r}).id=a(e)?e:b,m.data=u(c)||l(c)?c:100,y={src:m.src,id:m.id,order:0,groupId:h},i.push(y),j=[m]):p.error.push({id:b,src:r,error:"invalid file"})):l(r)&&(v=f(e)?"":e,p.label=f(c)?"":c,a(r.src)?""!==(b=s(r.src))?((m={src:r.src}).id=f(r.id)?b:r.id,m.data=u(r.data)||l(r.data)?r.data:100,y={src:m.src,id:m.id,order:0,groupId:h},i.push(y),j=[m]):p.error.push({id:b,src:r.src,error:"invalid file"}):((m={id:r.id,src:{}}).data=u(r.data)||l(r.data)?r.data:100,Object.keys(r.src).forEach(function(e){""!==(b=s(r.src[e]))?m.src[e]=r.src[e]:p.error.push({id:b,src:r.src[e],error:"invalid alternate file"})}),y={src:m.src,id:m.id,order:0,groupId:h},i.push(y),j=[m])),p.fileLength=j.length,createjs.Sound.registerSounds(j,v),p.complete=function(){var r;r={label:p.label},p.success.length>0?(p.success.sort(function(r,e){return r.order<e.order?-1:r.order>e.order?1:0}),r.success=p.success.map(function(r){return{id:r.id,src:r.id,data:r.data}}),p.error.length>0&&(r.error=p.error),x(r)):(r.error=p.error,g(r)),t[p.id]=null,p=null},o||(o=!0,createjs.Sound.on("fileload",n),createjs.Sound.on("fileerror",d))})},r.soundLoader=e;function n(r){var e,o,c,n,d,s,a;e=r.id,o=r.src,c=r.data,s=i.find(function(r){return r.id===e}),n={id:e,src:o,data:c,order:s.order},Object.keys(t).forEach(function(r){s.groupId===r&&(d=t[r])}),d.success.push(n),l(c)&&!f(c.audioSprite)&&(a=c.audioSprite.map(function(r){return{id:r.id,src:o,order:s.order}}),d.success=d.success.concat(a)),d.fileLength-=1,0===d.fileLength&&d.complete()}function d(r){var e,o,c,n;e=r.id,o=r.src,c=i.find(function(r){return r.id===e}),Object.keys(t).forEach(function(r){c.groupId===r&&(n=t[r])}),n.error.push({id:e,src:o,error:"load error"}),n.fileLength-=1,0===n.fileLength&&n.complete()}function s(r){var e,t;return e="",null!==(t=r.match(c))&&(e=t[2]),e}function a(r){return"[object String]"===Object.prototype.toString.call(r)}function u(r){return"[object Number]"===Object.prototype.toString.call(r)}function l(r){return"object"==typeof r&&null!==r&&!Array.isArray(r)}function f(r){return void 0===r}}(this);
//# sourceMappingURL=sound-loader.min.js.map
