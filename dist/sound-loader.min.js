Array.prototype.find||(Array.prototype.find=function(r){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof r)throw new TypeError("predicate must be a function");for(var e,t=Object(this),c=t.length>>>0,i=arguments[1],o=0;o<c;o++)if(e=t[o],r.call(i,e,o,t))return e}),function(r){"use strict";var e,t,c,i,o;t={},c=[],i=!1,o=/(.*\/)?([^\/]+?)\.(mp3|ogg|opus|mpeg|wav|m4a|mp4|aiff|wma|mid)$/,createjs.Sound.registerPlugins([createjs.HTMLAudioPlugin]),e=function(r,e,o){var p,h;return p={id:"",success:[],error:[],fileLength:0,complete:null},h="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){var e=16*Math.random()|0,t="x"==r?e:3&e|8;return t.toString(16)}),p.id=h,t[h]=p,new Promise(function(x,g){var y,m,v,j,b;Array.isArray(r)?(b=[],j=l(e)?"":e,r.forEach(function(r,e){a(r.src)?""!==(m=d(r.src))?((v={src:r.src}).id=l(r.id)?m:r.id,v.data=u(r.data)||f(r.data)?r.data:100,y={src:v.src,id:v.id,order:e,groupId:h},c.push(y),b.push(v)):p.error.push({id:m,src:r.src,error:"invalid file"}):((v={id:r.id,src:{}}).data=u(r.data)||f(r.data)?r.data:100,Object.keys(r.src).forEach(function(e){""!==(m=d(r.src[e]))?v.src[e]=r.src[e]:p.error.push({id:m,src:r.src[e],error:"invalid alternate file"})}),y={src:v.src,id:v.id,order:e,groupId:h},c.push(y),b.push(v))})):a(r)?(j="",""!==(m=d(r))?((v={src:r}).id=a(e)?e:m,v.data=u(o)||f(o)?o:100,y={src:v.src,id:v.id,order:0,groupId:h},c.push(y),b=[v]):p.error.push({id:m,src:r,error:"invalid file"})):f(r)&&(j=l(e)?"":e,a(r.src)?""!==(m=d(r.src))?((v={src:r.src}).id=l(r.id)?m:r.id,v.data=u(r.data)||f(r.data)?r.data:100,y={src:v.src,id:v.id,order:0,groupId:h},c.push(y),b=[v]):p.error.push({id:m,src:r.src,error:"invalid file"}):((v={id:r.id,src:{}}).data=u(r.data)||f(r.data)?r.data:100,Object.keys(r.src).forEach(function(e){""!==(m=d(r.src[e]))?v.src[e]=r.src[e]:p.error.push({id:m,src:r.src[e],error:"invalid alternate file"})}),y={src:v.src,id:v.id,order:0,groupId:h},c.push(y),b=[v])),p.fileLength=b.length,createjs.Sound.registerSounds(b,j),p.complete=function(){var r;r={},p.success.length>0?(p.success.sort(function(r,e){return r.order<e.order?-1:r.order>e.order?1:0}),r.success=p.success,p.error.length>0&&(r.error=p.error),x(r)):(r.error=p.error,g(r)),t[p.id]=null,p=null},i||(i=!0,createjs.Sound.on("fileload",n),createjs.Sound.on("fileerror",s))})},r.soundLoader=e;function n(r){var e,i,o,n,s;e=r.id,i=r.src,(n=c.find(function(r){return r.id===e})).src=i,Object.keys(t).forEach(function(r){n.groupId===r&&(o=t[r])}),o.fileLength-=1,f(r.data)&&!l(r.data.audioSprite)&&(s=r.data.audioSprite.map(function(r){return{id:r.id,src:i,order:1/0}}),o.success=o.success.concat(s)),o.success.push(n),0===o.fileLength&&o.complete()}function s(r){var e,i,o,n;e=r.id,i=r.src,o=c.find(function(r){return r.id===e}),Object.keys(t).forEach(function(r){o.groupId===r&&(n=t[r])}),n.error.push({id:e,src:i,error:"load error"}),n.fileLength-=1,0===n.fileLength&&n.complete()}function d(r){var e,t;return e="",null!==(t=r.match(o))&&(e=t[2]),e}function a(r){return"[object String]"===Object.prototype.toString.call(r)}function u(r){return"[object Number]"===Object.prototype.toString.call(r)}function f(r){return"object"==typeof r&&null!==r&&!Array.isArray(r)}function l(r){return void 0===r}}(this);
//# sourceMappingURL=sound-loader.min.js.map
